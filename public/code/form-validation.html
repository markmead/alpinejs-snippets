<form
  @submit.prevent
  x-data="{ contactName: '', contactAge: '', contactMessage: '', contactTerms: false }"
>
  <div
    x-data="{ required: false }"
    @error="required = !$json($event.detail).required"
    class="content"
  >
    <label for="contactName" class="form-label">Name</label>

    <input
      type="text"
      id="contactName"
      x-model="contactName"
      x-validation.required="contactName"
      class="form-input"
    />

    <span x-show="required" class="text-red-500">Need a name</span>
  </div>

  <div
    x-data="{ minAge: false, maxAge: false }"
    @error="
      minAge = !$json($event.detail).min
      maxAge = !$json($event.detail).max
    "
    class="content"
  >
    <label for="contactAge" class="form-label">Age</label>

    <input
      type="number"
      id="contactAge"
      x-model="contactAge"
      x-validation.min.18.max.24="contactAge"
      class="form-input"
    />

    <span x-show="minAge" class="text-red-500"
      >Must be at least 18 years old</span
    >

    <span x-show="maxAge" class="text-red-500"
      >Can't be older than 24 years old</span
    >
  </div>

  <div
    x-data="{ minLetters: false, maxLetters: false }"
    @error="
      minLetters = !$json($event.detail).minLength
      maxLetters = !$json($event.detail).maxLength
    "
    class="content"
  >
    <label for="contactMessage" class="form-label">Message</label>

    <textarea
      id="contactMessage"
      x-model="contactMessage"
      x-validation.min:length.10.max:length.50="contactMessage"
      class="form-textarea"
    ></textarea>

    <span x-show="minLetters" class="text-red-500"
      >Must be at least 10 characters</span
    >

    <span x-show="maxLetters" class="text-red-500"
      >Can't be more than 50 characters</span
    >
  </div>

  <div
    x-data="{ isAccepted: false }"
    @error="isAccepted = !$json($event.detail).checked"
    class="content"
  >
    <label for="contactTerms" class="form-label">Terms</label>

    <input
      type="checkbox"
      id="contactTerms"
      x-model="contactTerms"
      value="true"
      x-validation.checked="contactTerms"
      class="form-checkbox"
    />

    <span x-show="isAccepted" class="text-red-500">Must accept</span>
  </div>

  <button class="button mt-4">Submit</button>
</form>

<style>
  [x-validation-valid='false'] {
    border-color: rgb(239 68 68);
  }

  [x-validation-valid='true'] {
    border-color: rgb(34 197 94);
  }
</style>
